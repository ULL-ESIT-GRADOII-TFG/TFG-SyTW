%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Chapter 1: Introducción 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%---------------------------------------------------------------------------------
\section{Antecedentes y estado actual del tema}
\label{1:sec:1}

La \ceit{\ref{apend1:www}} esta sujeta a un cambio continuo. La llegada de \ceit{\ref{apend1:html}}, la creciente importancia de \ceit{\ref{apend1:ajax}} y de la 
programaci\'on en el lado del cliente, las nuevas fronteras de la \ceit{\ref{apend1:web}}, la explosi\'on de las redes 
sociales as\'{\i} como la llegada de las redes sociales federadas son ejemplos de esta tendencia general. 
Las aplicaciones web parecen evolucionar hacia entornos cada vez m\'as ricos y flexibles en los que los usuarios 
pueden acceder con facilidad a los documentos, publicar contenido, escuchar m\'usica, ver v\'{\i}deos, realizar dibujos
e incluso jugar usando un navegador. Esta nueva clase de software ubicuo no cesa de ganar \textit{momentum} y promueve nuevas 
formas de interacci\'on y cooperaci\'on.
\bigskip

Dentro del \'ambito educativo tambi\'en se ha vivido una revoluci\'on, en forma y contenido, de impartir enseñanza.
En Internet se puede encontrar, cada vez con m\'as facilidad, contenidos de cualquier disciplina en m\'ultiples
formatos: blogs, videotutoriales, presentaciones, ejercicios resueltos, etc.

Tambi\'en est\'an teniendo mucho \'exito las plataformas de aprendizaje virtual ofreciendo, adem\'as de conocimiento 
sin la necesidad de estar f\'{\i}sicamente presente en un aula, una serie de recompensas y medallas por ir obteniendo
logros. Esta metodolog\'{\i}a se denomina \ceis{\ref{apend1:gamificacion}} y est\'a teniendo un impacto muy positivo en los usuarios
de estas plataformas, ya que los anima a seguir usando estas herramientas de conocimiento.
\bigskip

Otro tipo de plataforma de aprendizaje virtual m\'as orientada a universidades e institutos es \ceis{\ref{apend1:moodle}}\cite{moodle}. Est\'a implamantada
en numerosos centros de todo el planeta. Es el complemento perfecto para enriquecer las enseñanzas impartidas f\'{\i}sicamente
con cuestionarios autoevaluativos y compartici\'on de recursos adicionales. Adem\'as, facilita numerosas tareas a los docentes como 
la correcci\'on y calificaci\'on de ejercicios.

Sin embargo, esta plataforma s\'olo se limita a la evaluaci\'on de cuestiones triviales. Para la correci\'on de preguntas
propias de las ramas de \ceit{Ingenier\'{\i}a}, como pueden ser la implementaci\'on de c\'odigo, es necesaria la figura del profesor para
evaluar dichas tareas.

Otro problema que presenta es su dif\'{\i}cil portabilidad. Estamos hablando de un tipo de plataforma que sigue un
esquema \ceis{\ref{apend1:cs}}, que no es f\'acilmente migrable a otras m\'aquinas. Migrar dicha plataforma a otra m\'aquina implica el hecho de reinstalar el
software y configurar de nuevo la plataforma. Estos procesos requieren de elevados conocimientos de administraci\'on de sistemas y seguridad para dejar todo 
perfectamente en configurado, sin brechas de seguridad y en perfecto funcionamiento.
\bigskip

Todas estas desventajas se ven resueltas haciendo uso de las mejoras desarrolladas para \ceis{\ref{apend1:ruql}}, que se presentar\'an a lo largo de esta memoria, 
y cuyo objetivo principal es la {\bfseries Elaboraci\'on y Despliegue de Cuestionarios}. Entre sus caracter\'{\i}sticas, destaca:
\begin{itemize}
  \item Su sencilla instalaci\'on.
  \item La facilidad de uso.
  \item La generaci\'on de cuestionarios para autoevaluaci\'on con autocorreci\'on de respuestas.
  \item La generaci\'on de aplicaciones que permiten:
  \begin{itemize}
    \item Desplegar cuestionarios y evaluar a los alumnos.
    \item Corregir autom\'aticamente sus respuestas.
    \item Guardar sus respuestas y calificaciones.
  \end{itemize}
  \item Portabilidad: tanto de la herramienta como de los cuestionarios y aplicaciones generadas.
\end{itemize}
\newpage

%---------------------------------------------------------------------------------
\section{¿Qu\'e es \ceit{RuQL}?}
\label{1:sec:2}

\href{http://github.com/saasbook/ruql}{'Ruby-based Quiz Generator and DSL'} (RuQL) es una \ref{apend1:gema} de \ref{apend1:ruby} creada por 
\href{http://www.armandofox.com/geek}{Armando Fox}, profesor del Departamento de Ingenier\'{\i}a Inform\'atica y El\'ectrica de la Universidad de Berkeley, 
California (Estados Unidos).
\bigskip

Una vez examinado el estado del arte actual, se acord\'o que la soluci\'on m\'as apropiada para nosotros era la implementaci\'on de un \ceis{\ref{apend1:dsl}} 
que permitiera redactar f\'acilmente las preguntas y respuestas. En lenguaje de programaci\'on que se iba a usar estaba claro desde el inicio: \underline{Ruby}.

Investigando sobre alg\'un DSL ya implementado en este lenguaje que nos sirviera de gu\'{\i}a, dimos con el \ceit{repositorio} de esta gema.

Tras analizarla detenidamente, llegamos a la conclusi\'on de que era el punto de partida id\'oneo para comenzar nuestro Trabajo de Fin de Grado. Nos pusimos en contacto
con Armando para indicarle nuestras intenciones y \'el, desde el primer momento, mostr\'o un gran inter\'es por el proyecto. A medida que fuimos avanzando en el desarrollo,
Armando incorpor\'o nuestros cambios en su gema y me hizo colaborador en su repositorio.
\bigskip

Inicialmente, esta gema permit\'{\i}a generar un cuestionario partiendo de un fichero \ceis{Ruby}, donde se redactaban las preguntas y respuestas haciendo uso 
de un DSL.

Pose\'{\i}a una serie de \textit{\ref{apend1:renderer}} que permit\'{\i}an generar los cuestionario en los siguientes formatos:
\begin{itemize}
  \item \ceit{\ref{apend1:openedx}}: formato \cei{open source} listo para importar en plataformas de aprendizaje online como \ceis{EdX}\cite{edx}.
  \item Versi\'on \ceit{HTML5} imprimible: lista para ser impresa y rellenada por los usuarios.
  Se le pod\'{\i}a pasar como argumento el path de una hoja de estilo para incorporarla al \ceit{HTML} de salida. Del mismo modo, se
  pod\'{\i}a especificar el path de un \cei{\ref{apend1:template}} predefinido por el profesor de modo que las preguntas se renderizaran en el mismo.
  \item \ceit{\ref{apend1:aqcm}}: formato listo para importar a \ceis{AMC} (\cei{Auto Multiple Choice}), software libre
  que permite elaborar cuestionarios multirrespuesta.
\end{itemize}
\bigskip

Los tipos de preguntas que se pod\'{\i}an especificar eran:
\begin{itemize}
  \item {\bfseries Preguntas de completar}: en las cuales los usuarios deben rellenar los espacios en blanco. Admit\'{\i}a respuestas de tipo \cei{string} o
  \cei{regexp}. Si exist\'{\i}an m\'ultiples espacios para rellenar, se especificaban las respuestas en forma de \cei{array}, indicando adem\'as
  si el orden de las mismas influ\'{\i}a.
  Permit\'{\i}a adem\'as especificar respuestas falsas (\textit{distractors}) con una explicaci\'on de la misma, de modo que si el 
  alumno escrib\'{\i}a dicho \cei{distractor}, le apareciera la explicaci\'on de por qu\'e esa respuesta era incorrecta.
  
  \begin{figure}[!th]
  \begin{center}
  \includegraphics[width=0.6\textwidth]{images/fill_in1.eps}
  \caption{Pregunta de completar simple}
  \label{fig:fill_in1}
  \end{center}
  \end{figure}
  
  \begin{figure}[!th]
  \begin{center}
  \includegraphics[width=1\textwidth]{images/fill_in2.eps}
  \caption{Pregunta de completar con distractor y explicaci\'on}
  \label{fig:fill_in2}
  \end{center}
  \end{figure}
  
  \item {\bfseries Preguntas multirrespuesta con una  \'unica respuesta correcta}: las cl\'asicas preguntas tipo test. Se pod\'{\i}a aleatorizar el orden
  de las respuestas definido en el fichero de preguntas y asignarles explicaciones a los \textit{distractors} de manera individual o asignar una explicaci\'on
  general para todos los \textit{distractors}.
  \bigskip
  
  \begin{figure}[!th]
  \begin{center}
  \includegraphics[width=1\textwidth]{images/choice_answer1.eps}
  \caption{Pregunta multirrespuesta con una  \'unica respuesta correcta}
  \label{fig:choice_answer1}
  \end{center}
  \end{figure}
  
  Especificando adem\'as la opci\'on \cei{raw} a la pregunta, permit\'{\i}a incrustar dicho texto entre etiquetas \textless pre\textgreater \space \ceit{HTML}.
 
  \begin{figure}[H]
  \begin{center}
  \includegraphics[width=0.9\textwidth]{images/choice_answer2.eps}
  \caption{Pregunta multirrespuesta usando la opci\'on \textit{raw}}
  \label{fig:choice_answer2}
  \end{center}
  \end{figure}
  
  \item {\bfseries Preguntas multirrespuesta con una  m\'ultiples respuestas correctas}: iguales a las preguntas multirrespuesta de opci\'on \'unica con la diferencia de 
  que existe m\'as de una respuesta correcta.
 
  \begin{figure}[H]
  \begin{center}
  \includegraphics[width=0.8\textwidth]{images/select_multiple.eps}
  \caption{Pregunta multirrespuesta con una  m\'ultiples respuestas correctas}
  \label{fig:select_multiple}
  \end{center}
  \end{figure}
  
  \item {\bfseries Preguntas de verdadero o falso}: caso particular de las preguntas multirrespuesta de opci\'on \'unica.
  
  \begin{figure}[!th]
  \begin{center}
  \includegraphics[width=1\textwidth]{images/truefalse.eps}
  \caption{Pregunta de verdadero o falso}
  \label{fig:truefalse}
  \end{center}
  \end{figure}
  
\end{itemize}

Para todos los tipos de preguntas era posible especificar un comentario opcional que acompañar\'{\i}a al texto de la pregunta.
\newpage


%---------------------------------------------------------------------------------
\subsection{C\'odigo de ejemplo para realizar un cuestionario HTML5}
\label{subsec:1.2.1}
\input{ruql2013.tex}


%---------------------------------------------------------------------------------
\section{Perfil del usuario de RuQL}
\label{1:sec:3}

EL uso de RuQL est\'a especialmente dirigido a un determinado grupo de profesores: nos referimos al perfil de un profesor, principalmente docente en alguna rama de Ingenier\'{\i}a, 
con conocimientos avanzados en programaci\'on y administraci\'on de sistemas. 

No obstante, la curva de aprendizaje no es excesiva para el resto de profesorado. Teniendo claras unas nociones b\'asicas de inform\'atica, junto con la lectura y 
asimilaci\'on previa de la documentaci\'on y el funcionamiento de RuQL, se puede llegar a dominar en su totalidad.
\newpage

%---------------------------------------------------------------------------------
\section{Objetivos y actividades a realizar}
\label{1:sec:4}

Los objetivos propuestos para alcanzar en este Trabajo de Fin de Grado ha sido los siguientes:
\begin{itemize}
  \item Conocer, dominar y practicar con lenguajes y herramientas de desarrollo de aplicaciones web en el \ceis{servidor}.
  \item Conocer, dominar y practicar con diferentes lenguajes y librer\'{\i}as en el \ceis{cliente}.
  \item Conocer, practicar y dominar de herramientas de \ceis{desarrollo dirigido por pruebas} (\textit{\ref{apend1:tdd}}) en entornos web.
  \item Conocer, practicar y dominar diferentes lenguajes de marcas y de estilo.
  \item Conocer, practicar y dominar diferentes mecanismos de despliegue.
  \item Conocer, practicar y familiarizarse con diferentes mecanismos de \ceit{seguridad}, \ceit{autentificaci\'on} y \ceit{autorizaci\'on}.
  \item Conocer, practicar y dominar diferentes herramientas colaborativas y de \ceis{control de versiones} (\textit{\ref{apend1:cvs}}).
  \item Conocer, practicar y dominar \ceis{\ref{apend1:ma}} de desarrollo de software.
  \item Desarrollar una aplicaci\'on web para la elaboraci\'on y \ceit{despliegue} de cuestionarios.
\end{itemize}
\bigskip

Y las actividades a realizar en el mismo, tal cual est\'an descritas en la propuesta de {\bfseries Proyecto de Trabajo de Fin de Grado} firmada por 
el director y el alumno en la actividad 2 de la asignatura, son las que se describen a continuaci\'on:
\begin{itemize}
  \item Revisi\'on bibliogr\'afica.
  \item Realizaci\'on de una \ceit{aplicaci\'on web} en la que:
  \begin{itemize}
    \item Se proporciona soporte mediante una aplicaci\'on web a los procesos de evaluaci\'on.
    \item Se proporciona/extiende un \ceis{Lenguaje de Dominio Espec\'{\i}fico} (\textit{DSL}) para la elaboraci\'on de cuestionarios.
    \item Se deber\'a considerar c\'omo resolver los problemas de \ceit{seguridad} asociados.
    \item Redacci\'on de la memoria.
  \end{itemize}
  \item Preparaci\'on de las presentaciones.
\end{itemize}



%---------------------------------------------------------------------------------
\section{Tecnolog\'{\i}a usada}
\label{1:sec:4}

Debido a que este Trabajo de Fin de Grado es una extensi\'on de una \ceit{gema} de \ceis{Ruby}, se ha utilizado \'este como \ceit{lenguaje de
programaci\'on}.

\begin{center}
\includegraphics{images/ruby.eps}
\end{center}
  
Adem\'as, se ha hecho uso de un numeroso conjunto de gemas y de otras tecnolog\'{\i}as enumeradas a continuaci\'on:
\begin{itemize}
  \item \ceit{HTML5}        \includegraphics[width=0.13\textwidth]{images/HTML5.eps}
  \item \ceit{\ref{apend1:css}}         \includegraphics[width=0.1\textwidth]{images/css3.eps}
  \item \ceit{\ref{apend1:js}}   \includegraphics[width=0.1\textwidth]{images/js.eps}
  \item \ceit{\ref{apend1:bootstrap}}    \includegraphics[width=0.1\textwidth]{images/bootstrap.eps}
  \item \ceit{\ref{apend1:jquery}}       \includegraphics[width=0.2\textwidth]{images/jquery.eps}
  \item \ceit{\ref{apend1:xregexp}}      \includegraphics[width=0.2\textwidth]{images/xregexp.eps}
  \item \ceit{\ref{apend1:mathjax}}      \includegraphics[width=0.2\textwidth]{images/mathjax.eps}
  \item \ceit{\ref{apend1:codemirror}}   \includegraphics[width=0.1\textwidth]{images/codemirror.eps}
  \item \ceit{\ref{apend1:mocha}}        \includegraphics[width=0.1\textwidth]{images/mocha.eps}
  \item \ceit{\ref{apend1:chai}}         \includegraphics[width=0.1\textwidth]{images/chai.eps}
  \item \ceit{\ref{apend1:karma}}        \includegraphics[width=0.1\textwidth]{images/karma.eps}
  \item \ceit{\ref{apend1:sinatra}}      \includegraphics[width=0.1\textwidth]{images/sinatra.eps}
  \item \ceit{\ref{apend1:github}}       \includegraphics[width=0.1\textwidth]{images/github.eps}
  \item \ceit{\ref{apend1:heroku}}       \includegraphics[width=0.1\textwidth]{images/heroku.eps}
  \item \ceit{\ref{apend1:oauth}}    \includegraphics[width=0.1\textwidth]{images/oauth.eps}
  \item \ceit{\ref{apend1:drive}} \includegraphics[width=0.1\textwidth]{images/google_drive.eps}
\end{itemize}

